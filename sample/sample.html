<!DOCTYPE html>
<html>
<head>
  <title>Image Upload</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <style>
      #previewDiv1920{
        display: flex;
        justify-content: center;
        align-items: center;
        border: 1px solid rgb(255, 255, 255);

        width: 500px;
        height: 281px;
      }
  </style>
</head>
<body>

<form method="post" action="" enctype="multipart/form-data">
  <div class="preview" id="previewDiv1920">
    Exactly 1920 x 1080 pixels <!-- Initial dimensions text -->
  </div>
  <br>
  <input class="imgupload" type="file" name="fileImg1920" id="fileImg1920"><br>
  <button class="btn" type="button" onclick="clearImage('img1920', 'fileImg1920', 'previewDiv1920', 1920, 1080);">Clear Picture</button> <!-- Added clear button -->
  <!-- <button type="button" onclick="submitData('fileImg1920', 'function.php');">Submit</button> -->
</form>

<script>
  // Preview
  function previewImage(inputId, previewId, width, height) {
    const fileInput = document.getElementById(inputId);
    const previewDiv = document.getElementById(previewId);

    fileInput.onchange = function(evt) {
      const [file] = fileInput.files;
      if (file) {
        previewDiv.textContent = ''; // Clear the dimensions text
        var reader = new FileReader();
        reader.onload = function(e) {
          previewDiv.innerHTML = '<img src="' + e.target.result + '" style="width: 100%; height: 100%;" />';
        };
        reader.readAsDataURL(file);
      } else {
        previewDiv.innerHTML = 'Exactly ' + width + ' x ' + height + ' pixels'; // Display dimensions text
      }
    };
  }

  // Submit
  function submitData(inputId, url) {
    $(document).ready(function() {
      var formData = new FormData();
      var files = $('#' + inputId)[0].files;
      formData.append(inputId, files[0]);

      $.ajax({
        url: url,
        type: 'post',
        data: formData,
        contentType: false,
        processData: false,
        success: function(response) {
          if (response == 'Success') {
            alert('Successfully Added');
          } else if (response == 'Invalid Extension') {
            alert('Invalid Extension');
          } else {
            alert('Please Fill Out The Form');
          }
        }
      });
    });
  }

  // Clear image
  function clearImage(imageId, inputId, previewId, width, height) {
    $('#' + imageId).attr('src', ''); // Clears the source of the image
    $('#' + inputId).val(''); // Clears the file input value
    $('#' + previewId).html('Exactly ' + width + ' x ' + height + ' pixels'); // Display dimensions text
  }

  // Call the functions
  previewImage('fileImg1920', 'previewDiv1920', 1920, 1080);
</script>

</body>
</html>
