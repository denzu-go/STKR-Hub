<!DOCTYPE html>
<html>
<head>
  <title>Multiple Image Upload and Preview</title>
  <style>
    .preview-container {
      margin-bottom: 20px;
    }

    .preview-container img {
      max-width: 300px;
      max-height: 300px;
      margin-bottom: 10px;
    }
  </style>
  <script>
    function handleImageUpload(event, previewId, uploadId) {
      var preview = document.getElementById(previewId);
      var file = event.target.files[0];
      var reader = new FileReader();

      reader.onloadend = function() {
        preview.src = reader.result;
      }

      if (file) {
        reader.readAsDataURL(file);
      } else {
        preview.src = "";
      }
    }

    function handleClearImage(previewId, uploadId) {
      var preview = document.getElementById(previewId);
      preview.src = "";
      document.getElementById(uploadId).value = null;
    }
  </script>
</head>
<body>
  <div class="preview-container">
    <input type="file" id="upload1" onchange="handleImageUpload(event, 'preview1', 'upload1')" accept="image/*">
    <img id="preview1" src="" alt="Preview">
    <button onclick="handleClearImage('preview1', 'upload1')">Clear Image</button>
  </div>

  <div class="preview-container">
    <input type="file" id="upload2" onchange="handleImageUpload(event, 'preview2', 'upload2')" accept="image/*">
    <img id="preview2" src="" alt="Preview">
    <button onclick="handleClearImage('preview2', 'upload2')">Clear Image</button>
  </div>

  <!-- Add more div sections for additional image uploads if needed -->

  <script>
    // Automatically generate unique IDs for new sections
    var sectionCount = 2; // Update with the number of existing sections

    function addImageSection() {
      sectionCount++;
      var previewId = "preview" + sectionCount;
      var uploadId = "upload" + sectionCount;

      var newSection = document.createElement("div");
      newSection.className = "preview-container";
      newSection.innerHTML = `
        <input type="file" id="${uploadId}" onchange="handleImageUpload(event, '${previewId}', '${uploadId}')" accept="image/*">
        <img id="${previewId}" src="" alt="Preview">
        <button onclick="handleClearImage('${previewId}', '${uploadId}')">Clear Image</button>
      `;

      document.body.appendChild(newSection);
    }
  </script>

  <!-- Example button to add a new image section -->
  <button onclick="addImageSection()">Add Image Section</button>

</body>
</html>
